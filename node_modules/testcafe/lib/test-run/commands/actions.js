'use strict';

exports.__esModule = true;
exports.UseRoleCommand = exports.SetPageLoadTimeoutCommand = exports.SetTestSpeedCommand = exports.GetBrowserConsoleMessagesCommand = exports.GetNativeDialogHistoryCommand = exports.SetNativeDialogHandlerCommand = exports.SwitchToMainWindowCommand = exports.SwitchToIframeCommand = exports.ClearUploadCommand = exports.SetFilesToUploadCommand = exports.NavigateToCommand = exports.PressKeyCommand = exports.SelectTextAreaContentCommand = exports.SelectEditableContentCommand = exports.SelectTextCommand = exports.DragToElementCommand = exports.DragCommand = exports.TypeTextCommand = exports.HoverCommand = exports.DoubleClickCommand = exports.ExecuteExpressionCommand = exports.RightClickCommand = exports.ClickCommand = undefined;

var _type = require('./type');

var _type2 = _interopRequireDefault(_type);

var _selectorBuilder = require('../../client-functions/selectors/selector-builder');

var _selectorBuilder2 = _interopRequireDefault(_selectorBuilder);

var _clientFunctionBuilder = require('../../client-functions/client-function-builder');

var _clientFunctionBuilder2 = _interopRequireDefault(_clientFunctionBuilder);

var _builderSymbol = require('../../client-functions/builder-symbol');

var _builderSymbol2 = _interopRequireDefault(_builderSymbol);

var _base = require('./base');

var _base2 = _interopRequireDefault(_base);

var _options = require('./options');

var _initializers = require('./validations/initializers');

var _executeJsExpression = require('../execute-js-expression');

var _executeJsExpression2 = _interopRequireDefault(_executeJsExpression);

var _utils = require('./utils');

var _argument = require('./validations/argument');

var _testRun = require('../../errors/test-run');

var _observation = require('./observation');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Initializers
function initActionOptions(name, val) {
    return new _options.ActionOptions(val, true);
}

function initClickOptions(name, val) {
    return new _options.ClickOptions(val, true);
}

function initMouseOptions(name, val) {
    return new _options.MouseOptions(val, true);
}

function initTypeOptions(name, val) {
    return new _options.TypeOptions(val, true);
}

function initDragToElementOptions(name, val) {
    return new _options.DragToElementOptions(val, true);
}

function initDialogHandler(name, val, { skipVisibilityCheck, testRun }) {
    let fn;

    if ((0, _utils.isJSExpression)(val)) fn = (0, _executeJsExpression2.default)(val.value, testRun, { skipVisibilityCheck });else fn = val.fn;

    if (fn === null || fn instanceof _observation.ExecuteClientFunctionCommand) return fn;

    const options = val.options;
    const methodName = 'setNativeDialogHandler';
    let builder = fn && fn[_builderSymbol2.default];
    const isSelector = builder instanceof _selectorBuilder2.default;
    const functionType = typeof fn;

    if (functionType !== 'function' || isSelector) throw new _testRun.SetNativeDialogHandlerCodeWrongTypeError(isSelector ? 'Selector' : functionType);

    builder = builder instanceof _clientFunctionBuilder2.default ? fn.with(options)[_builderSymbol2.default] : new _clientFunctionBuilder2.default(fn, options, { instantiation: methodName, execution: methodName });

    return builder.getCommand([]);
}

// Commands
class ClickCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.click);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initClickOptions, required: true }];
    }
}

exports.ClickCommand = ClickCommand;
class RightClickCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.rightClick);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initClickOptions, required: true }];
    }
}

exports.RightClickCommand = RightClickCommand;
class ExecuteExpressionCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.executeExpression);
    }

    _getAssignableProperties() {
        return [{ name: 'expression', type: _argument.nonEmptyStringArgument, required: true }, { name: 'resultVariableName', type: _argument.nonEmptyStringArgument, defaultValue: null }, { name: 'isAsyncExpression', type: _argument.booleanArgument, defaultValue: false }];
    }
}

exports.ExecuteExpressionCommand = ExecuteExpressionCommand;
class DoubleClickCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.doubleClick);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initClickOptions, required: true }];
    }
}

exports.DoubleClickCommand = DoubleClickCommand;
class HoverCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.hover);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initMouseOptions, required: true }];
    }
}

exports.HoverCommand = HoverCommand;
class TypeTextCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.typeText);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'text', type: _argument.nonEmptyStringArgument, required: true }, { name: 'options', type: _argument.actionOptions, init: initTypeOptions, required: true }];
    }
}

exports.TypeTextCommand = TypeTextCommand;
class DragCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.drag);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'dragOffsetX', type: _argument.integerArgument, required: true }, { name: 'dragOffsetY', type: _argument.integerArgument, required: true }, { name: 'options', type: _argument.actionOptions, init: initMouseOptions, required: true }];
    }
}

exports.DragCommand = DragCommand;
class DragToElementCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.dragToElement);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'destinationSelector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initDragToElementOptions, required: true }];
    }
}

exports.DragToElementCommand = DragToElementCommand;
class SelectTextCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.selectText);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'startPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'endPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.SelectTextCommand = SelectTextCommand;
class SelectEditableContentCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.selectEditableContent);
    }

    _getAssignableProperties() {
        return [{ name: 'startSelector', init: _initializers.initSelector, required: true }, { name: 'endSelector', init: _initializers.initSelector, defaultValue: null }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.SelectEditableContentCommand = SelectEditableContentCommand;
class SelectTextAreaContentCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.selectTextAreaContent);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'startLine', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'startPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'endLine', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'endPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.SelectTextAreaContentCommand = SelectTextAreaContentCommand;
class PressKeyCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.pressKey);
    }

    _getAssignableProperties() {
        return [{ name: 'keys', type: _argument.nonEmptyStringArgument, required: true }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.PressKeyCommand = PressKeyCommand;
class NavigateToCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.navigateTo);
    }

    _getAssignableProperties() {
        return [{ name: 'url', type: _argument.urlArgument, required: true }, { name: 'stateSnapshot', type: _argument.nullableStringArgument, defaultValue: null }];
    }
}

exports.NavigateToCommand = NavigateToCommand;
class SetFilesToUploadCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setFilesToUpload);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initUploadSelector, required: true }, { name: 'filePath', type: _argument.stringOrStringArrayArgument, required: true }];
    }
}

exports.SetFilesToUploadCommand = SetFilesToUploadCommand;
class ClearUploadCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.clearUpload);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initUploadSelector, required: true }];
    }
}

exports.ClearUploadCommand = ClearUploadCommand;
class SwitchToIframeCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.switchToIframe);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }];
    }
}

exports.SwitchToIframeCommand = SwitchToIframeCommand;
class SwitchToMainWindowCommand {
    constructor() {
        this.type = _type2.default.switchToMainWindow;
    }
}

exports.SwitchToMainWindowCommand = SwitchToMainWindowCommand;
class SetNativeDialogHandlerCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setNativeDialogHandler);
    }

    _getAssignableProperties() {
        return [{ name: 'dialogHandler', init: initDialogHandler, required: true }];
    }
}

exports.SetNativeDialogHandlerCommand = SetNativeDialogHandlerCommand;
class GetNativeDialogHistoryCommand {
    constructor() {
        this.type = _type2.default.getNativeDialogHistory;
    }
}

exports.GetNativeDialogHistoryCommand = GetNativeDialogHistoryCommand;
class GetBrowserConsoleMessagesCommand {
    constructor() {
        this.type = _type2.default.getBrowserConsoleMessages;
    }
}

exports.GetBrowserConsoleMessagesCommand = GetBrowserConsoleMessagesCommand;
class SetTestSpeedCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setTestSpeed);
    }

    _getAssignableProperties() {
        return [{ name: 'speed', type: _argument.setSpeedArgument, required: true }];
    }
}

exports.SetTestSpeedCommand = SetTestSpeedCommand;
class SetPageLoadTimeoutCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setPageLoadTimeout);
    }

    _getAssignableProperties() {
        return [{ name: 'duration', type: _argument.positiveIntegerArgument, required: true }];
    }
}

exports.SetPageLoadTimeoutCommand = SetPageLoadTimeoutCommand;
class UseRoleCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.useRole);
    }

    _getAssignableProperties() {
        return [{ name: 'role', type: _argument.actionRoleArgument, required: true }];
    }
}
exports.UseRoleCommand = UseRoleCommand;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXN0LXJ1bi9jb21tYW5kcy9hY3Rpb25zLmpzIl0sIm5hbWVzIjpbImluaXRBY3Rpb25PcHRpb25zIiwibmFtZSIsInZhbCIsIkFjdGlvbk9wdGlvbnMiLCJpbml0Q2xpY2tPcHRpb25zIiwiQ2xpY2tPcHRpb25zIiwiaW5pdE1vdXNlT3B0aW9ucyIsIk1vdXNlT3B0aW9ucyIsImluaXRUeXBlT3B0aW9ucyIsIlR5cGVPcHRpb25zIiwiaW5pdERyYWdUb0VsZW1lbnRPcHRpb25zIiwiRHJhZ1RvRWxlbWVudE9wdGlvbnMiLCJpbml0RGlhbG9nSGFuZGxlciIsInNraXBWaXNpYmlsaXR5Q2hlY2siLCJ0ZXN0UnVuIiwiZm4iLCJ2YWx1ZSIsIkV4ZWN1dGVDbGllbnRGdW5jdGlvbkNvbW1hbmQiLCJvcHRpb25zIiwibWV0aG9kTmFtZSIsImJ1aWxkZXIiLCJmdW5jdGlvbkJ1aWxkZXJTeW1ib2wiLCJpc1NlbGVjdG9yIiwiU2VsZWN0b3JCdWlsZGVyIiwiZnVuY3Rpb25UeXBlIiwiU2V0TmF0aXZlRGlhbG9nSGFuZGxlckNvZGVXcm9uZ1R5cGVFcnJvciIsIkNsaWVudEZ1bmN0aW9uQnVpbGRlciIsIndpdGgiLCJpbnN0YW50aWF0aW9uIiwiZXhlY3V0aW9uIiwiZ2V0Q29tbWFuZCIsIkNsaWNrQ29tbWFuZCIsIkNvbW1hbmRCYXNlIiwiY29uc3RydWN0b3IiLCJvYmoiLCJUWVBFIiwiY2xpY2siLCJfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMiLCJpbml0IiwiaW5pdFNlbGVjdG9yIiwicmVxdWlyZWQiLCJ0eXBlIiwiYWN0aW9uT3B0aW9ucyIsIlJpZ2h0Q2xpY2tDb21tYW5kIiwicmlnaHRDbGljayIsIkV4ZWN1dGVFeHByZXNzaW9uQ29tbWFuZCIsImV4ZWN1dGVFeHByZXNzaW9uIiwibm9uRW1wdHlTdHJpbmdBcmd1bWVudCIsImRlZmF1bHRWYWx1ZSIsImJvb2xlYW5Bcmd1bWVudCIsIkRvdWJsZUNsaWNrQ29tbWFuZCIsImRvdWJsZUNsaWNrIiwiSG92ZXJDb21tYW5kIiwiaG92ZXIiLCJUeXBlVGV4dENvbW1hbmQiLCJ0eXBlVGV4dCIsIkRyYWdDb21tYW5kIiwiZHJhZyIsImludGVnZXJBcmd1bWVudCIsIkRyYWdUb0VsZW1lbnRDb21tYW5kIiwiZHJhZ1RvRWxlbWVudCIsIlNlbGVjdFRleHRDb21tYW5kIiwic2VsZWN0VGV4dCIsInBvc2l0aXZlSW50ZWdlckFyZ3VtZW50IiwiU2VsZWN0RWRpdGFibGVDb250ZW50Q29tbWFuZCIsInNlbGVjdEVkaXRhYmxlQ29udGVudCIsIlNlbGVjdFRleHRBcmVhQ29udGVudENvbW1hbmQiLCJzZWxlY3RUZXh0QXJlYUNvbnRlbnQiLCJQcmVzc0tleUNvbW1hbmQiLCJwcmVzc0tleSIsIk5hdmlnYXRlVG9Db21tYW5kIiwibmF2aWdhdGVUbyIsInVybEFyZ3VtZW50IiwibnVsbGFibGVTdHJpbmdBcmd1bWVudCIsIlNldEZpbGVzVG9VcGxvYWRDb21tYW5kIiwic2V0RmlsZXNUb1VwbG9hZCIsImluaXRVcGxvYWRTZWxlY3RvciIsInN0cmluZ09yU3RyaW5nQXJyYXlBcmd1bWVudCIsIkNsZWFyVXBsb2FkQ29tbWFuZCIsImNsZWFyVXBsb2FkIiwiU3dpdGNoVG9JZnJhbWVDb21tYW5kIiwic3dpdGNoVG9JZnJhbWUiLCJTd2l0Y2hUb01haW5XaW5kb3dDb21tYW5kIiwic3dpdGNoVG9NYWluV2luZG93IiwiU2V0TmF0aXZlRGlhbG9nSGFuZGxlckNvbW1hbmQiLCJzZXROYXRpdmVEaWFsb2dIYW5kbGVyIiwiR2V0TmF0aXZlRGlhbG9nSGlzdG9yeUNvbW1hbmQiLCJnZXROYXRpdmVEaWFsb2dIaXN0b3J5IiwiR2V0QnJvd3NlckNvbnNvbGVNZXNzYWdlc0NvbW1hbmQiLCJnZXRCcm93c2VyQ29uc29sZU1lc3NhZ2VzIiwiU2V0VGVzdFNwZWVkQ29tbWFuZCIsInNldFRlc3RTcGVlZCIsInNldFNwZWVkQXJndW1lbnQiLCJTZXRQYWdlTG9hZFRpbWVvdXRDb21tYW5kIiwic2V0UGFnZUxvYWRUaW1lb3V0IiwiVXNlUm9sZUNvbW1hbmQiLCJ1c2VSb2xlIiwiYWN0aW9uUm9sZUFyZ3VtZW50Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBOztBQUVBOztBQWFBOztBQUNBOzs7O0FBR0E7QUFDQSxTQUFTQSxpQkFBVCxDQUE0QkMsSUFBNUIsRUFBa0NDLEdBQWxDLEVBQXVDO0FBQ25DLFdBQU8sSUFBSUMsc0JBQUosQ0FBa0JELEdBQWxCLEVBQXVCLElBQXZCLENBQVA7QUFDSDs7QUFFRCxTQUFTRSxnQkFBVCxDQUEyQkgsSUFBM0IsRUFBaUNDLEdBQWpDLEVBQXNDO0FBQ2xDLFdBQU8sSUFBSUcscUJBQUosQ0FBaUJILEdBQWpCLEVBQXNCLElBQXRCLENBQVA7QUFDSDs7QUFFRCxTQUFTSSxnQkFBVCxDQUEyQkwsSUFBM0IsRUFBaUNDLEdBQWpDLEVBQXNDO0FBQ2xDLFdBQU8sSUFBSUsscUJBQUosQ0FBaUJMLEdBQWpCLEVBQXNCLElBQXRCLENBQVA7QUFDSDs7QUFFRCxTQUFTTSxlQUFULENBQTBCUCxJQUExQixFQUFnQ0MsR0FBaEMsRUFBcUM7QUFDakMsV0FBTyxJQUFJTyxvQkFBSixDQUFnQlAsR0FBaEIsRUFBcUIsSUFBckIsQ0FBUDtBQUNIOztBQUVELFNBQVNRLHdCQUFULENBQW1DVCxJQUFuQyxFQUF5Q0MsR0FBekMsRUFBOEM7QUFDMUMsV0FBTyxJQUFJUyw2QkFBSixDQUF5QlQsR0FBekIsRUFBOEIsSUFBOUIsQ0FBUDtBQUNIOztBQUVELFNBQVNVLGlCQUFULENBQTRCWCxJQUE1QixFQUFrQ0MsR0FBbEMsRUFBdUMsRUFBRVcsbUJBQUYsRUFBdUJDLE9BQXZCLEVBQXZDLEVBQXlFO0FBQ3JFLFFBQUlDLEVBQUo7O0FBRUEsUUFBSSwyQkFBZWIsR0FBZixDQUFKLEVBQ0lhLEtBQUssbUNBQW9CYixJQUFJYyxLQUF4QixFQUErQkYsT0FBL0IsRUFBd0MsRUFBRUQsbUJB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cyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUWVBFIGZyb20gJy4vdHlwZSc7XG5pbXBvcnQgU2VsZWN0b3JCdWlsZGVyIGZyb20gJy4uLy4uL2NsaWVudC1mdW5jdGlvbnMvc2VsZWN0b3JzL3NlbGVjdG9yLWJ1aWxkZXInO1xuaW1wb3J0IENsaWVudEZ1bmN0aW9uQnVpbGRlciBmcm9tICcuLi8uLi9jbGllbnQtZnVuY3Rpb25zL2NsaWVudC1mdW5jdGlvbi1idWlsZGVyJztcbmltcG9ydCBmdW5jdGlvbkJ1aWxkZXJTeW1ib2wgZnJvbSAnLi4vLi4vY2xpZW50LWZ1bmN0aW9ucy9idWlsZGVyLXN5bWJvbCc7XG5pbXBvcnQgQ29tbWFuZEJhc2UgZnJvbSAnLi9iYXNlJztcbmltcG9ydCB7IEFjdGlvbk9wdGlvbnMsIENsaWNrT3B0aW9ucywgTW91c2VPcHRpb25zLCBUeXBlT3B0aW9ucywgRHJhZ1RvRWxlbWVudE9wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgaW5pdFNlbGVjdG9yLCBpbml0VXBsb2FkU2VsZWN0b3IgfSBmcm9tICcuL3ZhbGlkYXRpb25zL2luaXRpYWxpemVycyc7XG5pbXBvcnQgZXhlY3V0ZUpzRXhwcmVzc2lvbiBmcm9tICcuLi9leGVjdXRlLWpzLWV4cHJlc3Npb24nO1xuaW1wb3J0IHsgaXNKU0V4cHJlc3Npb24gfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHtcbiAgICBhY3Rpb25PcHRpb25zLFxuICAgIGludGVnZXJBcmd1bWVudCxcbiAgICBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCxcbiAgICBub25FbXB0eVN0cmluZ0FyZ3VtZW50LFxuICAgIG51bGxhYmxlU3RyaW5nQXJndW1lbnQsXG4gICAgdXJsQXJndW1lbnQsXG4gICAgc3RyaW5nT3JTdHJpbmdBcnJheUFyZ3VtZW50LFxuICAgIHNldFNwZWVkQXJndW1lbnQsXG4gICAgYWN0aW9uUm9sZUFyZ3VtZW50LFxuICAgIGJvb2xlYW5Bcmd1bWVudFxufSBmcm9tICcuL3ZhbGlkYXRpb25zL2FyZ3VtZW50JztcblxuaW1wb3J0IHsgU2V0TmF0aXZlRGlhbG9nSGFuZGxlckNvZGVXcm9uZ1R5cGVFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9ycy90ZXN0LXJ1bic7XG5pbXBvcnQgeyBFeGVjdXRlQ2xpZW50RnVuY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9vYnNlcnZhdGlvbic7XG5cblxuLy8gSW5pdGlhbGl6ZXJzXG5mdW5jdGlvbiBpbml0QWN0aW9uT3B0aW9ucyAobmFtZSwgdmFsKSB7XG4gICAgcmV0dXJuIG5ldyBBY3Rpb25PcHRpb25zKHZhbCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGluaXRDbGlja09wdGlvbnMgKG5hbWUsIHZhbCkge1xuICAgIHJldHVybiBuZXcgQ2xpY2tPcHRpb25zKHZhbCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGluaXRNb3VzZU9wdGlvbnMgKG5hbWUsIHZhbCkge1xuICAgIHJldHVybiBuZXcgTW91c2VPcHRpb25zKHZhbCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGluaXRUeXBlT3B0aW9ucyAobmFtZSwgdmFsKSB7XG4gICAgcmV0dXJuIG5ldyBUeXBlT3B0aW9ucyh2YWwsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBpbml0RHJhZ1RvRWxlbWVudE9wdGlvbnMgKG5hbWUsIHZhbCkge1xuICAgIHJldHVybiBuZXcgRHJhZ1RvRWxlbWVudE9wdGlvbnModmFsLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gaW5pdERpYWxvZ0hhbmRsZXIgKG5hbWUsIHZhbCwgeyBza2lwVmlzaWJpbGl0eUNoZWNrLCB0ZXN0UnVuIH0pIHtcbiAgICBsZXQgZm47XG5cbiAgICBpZiAoaXNKU0V4cHJlc3Npb24odmFsKSlcbiAgICAgICAgZm4gPSBleGVjdXRlSnNFeHByZXNzaW9uKHZhbC52YWx1ZSwgdGVzdFJ1biwgeyBza2lwVmlzaWJpbGl0eUNoZWNrIH0pO1xuICAgIGVsc2VcbiAgICAgICAgZm4gPSB2YWwuZm47XG5cbiAgICBpZiAoZm4gPT09IG51bGwgfHwgZm4gaW5zdGFuY2VvZiBFeGVjdXRlQ2xpZW50RnVuY3Rpb25Db21tYW5kKVxuICAgICAgICByZXR1cm4gZm47XG5cbiAgICBjb25zdCBvcHRpb25zICAgICAgPSB2YWwub3B0aW9ucztcbiAgICBjb25zdCBtZXRob2ROYW1lICAgPSAnc2V0TmF0aXZlRGlhbG9nSGFuZGxlcic7XG4gICAgbGV0IGJ1aWxkZXIgICAgICA9IGZuICYmIGZuW2Z1bmN0aW9uQnVpbGRlclN5bWJvbF07XG4gICAgY29uc3QgaXNTZWxlY3RvciAgID0gYnVpbGRlciBpbnN0YW5jZW9mIFNlbGVjdG9yQnVpbGRlcjtcbiAgICBjb25zdCBmdW5jdGlvblR5cGUgPSB0eXBlb2YgZm47XG5cbiAgICBpZiAoZnVuY3Rpb25UeXBlICE9PSAnZnVuY3Rpb24nIHx8IGlzU2VsZWN0b3IpXG4gICAgICAgIHRocm93IG5ldyBTZXROYXRpdmVEaWFsb2dIYW5kbGVyQ29kZVdyb25nVHlwZUVycm9yKGlzU2VsZWN0b3IgPyAnU2VsZWN0b3InIDogZnVuY3Rpb25UeXBlKTtcblxuICAgIGJ1aWxkZXIgPSBidWlsZGVyIGluc3RhbmNlb2YgQ2xpZW50RnVuY3Rpb25CdWlsZGVyID9cbiAgICAgICAgZm4ud2l0aChvcHRpb25zKVtmdW5jdGlvbkJ1aWxkZXJTeW1ib2xdIDpcbiAgICAgICAgbmV3IENsaWVudEZ1bmN0aW9uQnVpbGRlcihmbiwgb3B0aW9ucywgeyBpbnN0YW50aWF0aW9uOiBtZXRob2ROYW1lLCBleGVjdXRpb246IG1ldGhvZE5hbWUgfSk7XG5cbiAgICByZXR1cm4gYnVpbGRlci5nZXRDb21tYW5kKFtdKTtcblxufVxuXG4vLyBDb21tYW5kc1xuZXhwb3J0IGNsYXNzIENsaWNrQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5jbGljayk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnb3B0aW9ucycsIHR5cGU6IGFjdGlvbk9wdGlvbnMsIGluaXQ6IGluaXRDbGlja09wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSaWdodENsaWNrQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5yaWdodENsaWNrKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdENsaWNrT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV4ZWN1dGVFeHByZXNzaW9uQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5leGVjdXRlRXhwcmVzc2lvbik7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2V4cHJlc3Npb24nLCB0eXBlOiBub25FbXB0eVN0cmluZ0FyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAncmVzdWx0VmFyaWFibGVOYW1lJywgdHlwZTogbm9uRW1wdHlTdHJpbmdBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdpc0FzeW5jRXhwcmVzc2lvbicsIHR5cGU6IGJvb2xlYW5Bcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBmYWxzZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRG91YmxlQ2xpY2tDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLmRvdWJsZUNsaWNrKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdENsaWNrT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhvdmVyQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5ob3Zlcik7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnb3B0aW9ucycsIHR5cGU6IGFjdGlvbk9wdGlvbnMsIGluaXQ6IGluaXRNb3VzZU9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUeXBlVGV4dENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUudHlwZVRleHQpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ3RleHQnLCB0eXBlOiBub25FbXB0eVN0cmluZ0FyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnb3B0aW9ucycsIHR5cGU6IGFjdGlvbk9wdGlvbnMsIGluaXQ6IGluaXRUeXBlT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERyYWdDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLmRyYWcpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2RyYWdPZmZzZXRYJywgdHlwZTogaW50ZWdlckFyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnZHJhZ09mZnNldFknLCB0eXBlOiBpbnRlZ2VyQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdE1vdXNlT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERyYWdUb0VsZW1lbnRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLmRyYWdUb0VsZW1lbnQpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2Rlc3RpbmF0aW9uU2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdERyYWdUb0VsZW1lbnRPcHRpb25zLCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2VsZWN0VGV4dENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuc2VsZWN0VGV4dCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnc3RhcnRQb3MnLCB0eXBlOiBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdlbmRQb3MnLCB0eXBlOiBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdEFjdGlvbk9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RFZGl0YWJsZUNvbnRlbnRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnNlbGVjdEVkaXRhYmxlQ29udGVudCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3N0YXJ0U2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdlbmRTZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdEFjdGlvbk9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RUZXh0QXJlYUNvbnRlbnRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnNlbGVjdFRleHRBcmVhQ29udGVudCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnc3RhcnRMaW5lJywgdHlwZTogcG9zaXRpdmVJbnRlZ2VyQXJndW1lbnQsIGRlZmF1bHRWYWx1ZTogbnVsbCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnc3RhcnRQb3MnLCB0eXBlOiBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdlbmRMaW5lJywgdHlwZTogcG9zaXRpdmVJbnRlZ2VyQXJndW1lbnQsIGRlZmF1bHRWYWx1ZTogbnVsbCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnZW5kUG9zJywgdHlwZTogcG9zaXRpdmVJbnRlZ2VyQXJndW1lbnQsIGRlZmF1bHRWYWx1ZTogbnVsbCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnb3B0aW9ucycsIHR5cGU6IGFjdGlvbk9wdGlvbnMsIGluaXQ6IGluaXRBY3Rpb25PcHRpb25zLCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJlc3NLZXlDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnByZXNzS2V5KTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAna2V5cycsIHR5cGU6IG5vbkVtcHR5U3RyaW5nQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdEFjdGlvbk9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0ZVRvQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5uYXZpZ2F0ZVRvKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAndXJsJywgdHlwZTogdXJsQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdzdGF0ZVNuYXBzaG90JywgdHlwZTogbnVsbGFibGVTdHJpbmdBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZXRGaWxlc1RvVXBsb2FkQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5zZXRGaWxlc1RvVXBsb2FkKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0VXBsb2FkU2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdmaWxlUGF0aCcsIHR5cGU6IHN0cmluZ09yU3RyaW5nQXJyYXlBcmd1bWVudCwgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsZWFyVXBsb2FkQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5jbGVhclVwbG9hZCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFVwbG9hZFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3dpdGNoVG9JZnJhbWVDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnN3aXRjaFRvSWZyYW1lKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTd2l0Y2hUb01haW5XaW5kb3dDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IFRZUEUuc3dpdGNoVG9NYWluV2luZG93O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNldE5hdGl2ZURpYWxvZ0hhbmRsZXJDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnNldE5hdGl2ZURpYWxvZ0hhbmRsZXIpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdkaWFsb2dIYW5kbGVyJywgaW5pdDogaW5pdERpYWxvZ0hhbmRsZXIsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXROYXRpdmVEaWFsb2dIaXN0b3J5Q29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgICB0aGlzLnR5cGUgPSBUWVBFLmdldE5hdGl2ZURpYWxvZ0hpc3Rvcnk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0QnJvd3NlckNvbnNvbGVNZXNzYWdlc0NvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy50eXBlID0gVFlQRS5nZXRCcm93c2VyQ29uc29sZU1lc3NhZ2VzO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNldFRlc3RTcGVlZENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuc2V0VGVzdFNwZWVkKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc3BlZWQnLCB0eXBlOiBzZXRTcGVlZEFyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2V0UGFnZUxvYWRUaW1lb3V0Q29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5zZXRQYWdlTG9hZFRpbWVvdXQpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdkdXJhdGlvbicsIHR5cGU6IHBvc2l0aXZlSW50ZWdlckFyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXNlUm9sZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUudXNlUm9sZSk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3JvbGUnLCB0eXBlOiBhY3Rpb25Sb2xlQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iXX0=
