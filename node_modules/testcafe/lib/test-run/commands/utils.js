'use strict';

exports.__esModule = true;
exports.isCommandRejectableByPageError = isCommandRejectableByPageError;
exports.canSetDebuggerBreakpointBeforeCommand = canSetDebuggerBreakpointBeforeCommand;
exports.isScreenshotCommand = isScreenshotCommand;
exports.isBrowserManipulationCommand = isBrowserManipulationCommand;
exports.isServiceCommand = isServiceCommand;
exports.isExecutableInTopWindowOnly = isExecutableInTopWindowOnly;
exports.isJSExpression = isJSExpression;
exports.isExecutableOnClientCommand = isExecutableOnClientCommand;

var _type = require('./type');

var _type2 = _interopRequireDefault(_type);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const RAW_API_JS_EXPRESSION_TYPE = 'js-expr'; // -------------------------------------------------------------
// WARNING: this file is used by both the client and the server.
// Do not use any browser or node-specific API!
// -------------------------------------------------------------
function isCommandRejectableByPageError(command) {
    return !isObservationCommand(command) && !isBrowserManipulationCommand(command) && !isServiceCommand(command) || isRejectableBrowserManipulationCommand(command) && !isWindowSwitchingCommand(command);
}

function isClientFunctionCommand(command) {
    return command.type === _type2.default.executeClientFunction || command.type === _type2.default.executeSelector;
}

function isObservationCommand(command) {
    return isClientFunctionCommand(command) || command.type === _type2.default.wait || command.type === _type2.default.assertion || command.type === _type2.default.executeExpression;
}

function isWindowSwitchingCommand(command) {
    return command.type === _type2.default.switchToIframe || command.type === _type2.default.switchToMainWindow;
}

function canSetDebuggerBreakpointBeforeCommand(command) {
    return command.type !== _type2.default.debug && !isClientFunctionCommand(command) && !isServiceCommand(command);
}

function isScreenshotCommand(command) {
    return command.type === _type2.default.takeScreenshot || command.type === _type2.default.takeElementScreenshot || command.type === _type2.default.takeScreenshotOnFail;
}

function isBrowserManipulationCommand(command) {
    return command.type === _type2.default.takeScreenshot || command.type === _type2.default.takeElementScreenshot || command.type === _type2.default.takeScreenshotOnFail || command.type === _type2.default.resizeWindow || command.type === _type2.default.resizeWindowToFitDevice || command.type === _type2.default.maximizeWindow;
}

function isRejectableBrowserManipulationCommand(command) {
    return command.type === _type2.default.resizeWindow || command.type === _type2.default.resizeWindowToFitDevice || command.type === _type2.default.maximizeWindow;
}

function isServiceCommand(command) {
    return command.type === _type2.default.testDone || command.type === _type2.default.takeScreenshotOnFail || command.type === _type2.default.showAssertionRetriesStatus || command.type === _type2.default.hideAssertionRetriesStatus || command.type === _type2.default.setBreakpoint || command.type === _type2.default.takeScreenshotOnFail;
}

function isExecutableInTopWindowOnly(command) {
    return command.type === _type2.default.testDone || command.type === _type2.default.switchToMainWindow || command.type === _type2.default.setNativeDialogHandler || command.type === _type2.default.getNativeDialogHistory || command.type === _type2.default.setTestSpeed || command.type === _type2.default.showAssertionRetriesStatus || command.type === _type2.default.hideAssertionRetriesStatus || command.type === _type2.default.setBreakpoint || isBrowserManipulationCommand(command) && command.type !== _type2.default.takeElementScreenshot;
}

function isJSExpression(val) {
    return val !== null && typeof val === 'object' && val.type === RAW_API_JS_EXPRESSION_TYPE && typeof val.value === 'string';
}

function isExecutableOnClientCommand(command) {
    return command.type !== _type2.default.wait && command.type !== _type2.default.setPageLoadTimeout && command.type !== _type2.default.debug && command.type !== _type2.default.useRole && command.type !== _type2.default.assertion && command.type !== _type2.default.executeExpression;
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXN0LXJ1bi9jb21tYW5kcy91dGlscy5qcyJdLCJuYW1lcyI6WyJpc0NvbW1hbmRSZWplY3RhYmxlQnlQYWdlRXJyb3IiLCJjYW5TZXREZWJ1Z2dlckJyZWFrcG9pbnRCZWZvcmVDb21tYW5kIiwiaXNTY3JlZW5zaG90Q29tbWFuZCIsImlzQnJvd3Nlck1hbmlwdWxhdGlvbkNvbW1hbmQiLCJpc1NlcnZpY2VDb21tYW5kIiwiaXNFeGVjdXRhYmxlSW5Ub3BXaW5kb3dPbmx5IiwiaXNKU0V4cHJlc3Npb24iLCJpc0V4ZWN1dGFibGVPbkNsaWVudENvbW1hbmQiLCJSQVdfQVBJX0pTX0VYUFJFU1NJT05fVFlQRSIsImNvbW1hbmQiLCJpc09ic2VydmF0aW9uQ29tbWFuZCIsImlzUmVqZWN0YWJsZUJyb3dzZXJNYW5pcHVsYXRpb25Db21tYW5kIiwiaXNXaW5kb3dTd2l0Y2hpbmdDb21tYW5kIiwiaXNDbGllbnRGdW5jdGlvbkNvbW1hbmQiLCJ0eXBlIiwiVFlQRSIsImV4ZWN1dGVDbGllbnRGdW5jdGlvbiIsImV4ZWN1dGVTZWxlY3RvciIsIndhaXQiLCJhc3NlcnRpb24iLCJleGVjdXRlRXhwcmVzc2lvbiIsInN3aXRjaFRvSWZyYW1lIiwic3dpdGNoVG9NYWluV2luZG93IiwiZGVidWciLCJ0YWtlU2NyZWVuc2hvdCIsInRha2VFbGVtZW50U2NyZWVuc2hvdCIsInRha2VTY3JlZW5zaG90T25GYWlsIiwicmVzaXplV2luZG93IiwicmVzaXplV2luZG93VG9GaXREZXZpY2UiLCJtYXhpbWl6ZVdpbmRvdyIsInRlc3REb25lIiwic2hvd0Fzc2VydGlvblJldHJpZXNTdGF0dXMiLCJoaWRlQXNzZXJ0aW9uUmV0cmllc1N0YXR1cyIsInNldEJyZWFrcG9pbnQiLCJzZXROYXRpdmVEaWFsb2dIYW5kbGVyIiwiZ2V0TmF0aXZlRGlhbG9nSGlzdG9yeSIsInNldFRlc3RTcGVlZCIsInZhbCIsInZhbHVlIiwic2V0UGFnZUxvYWRUaW1lb3V0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TUgiLCJmaWxlIjoidGVzdC1ydW4vY29tbWFuZHMvdXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBXQVJOSU5HOiB0aGlzIGZpbGUgaXMgdXNlZCBieSBib3RoIHRoZSBjbGllbnQgYW5kIHRoZSBzZXJ2ZXIuXG4vLyBEbyBub3QgdXNlIGFueSBicm93c2VyIG9yIG5vZGUtc3BlY2lmaWMgQVBJIVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IFRZUEUgZnJvbSAnLi90eXBlJztcblxuY29uc3QgUkFXX0FQSV9KU19FWFBSRVNTSU9OX1RZUEUgPSAnanMtZXhwcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbW1hbmRSZWplY3RhYmxlQnlQYWdlRXJyb3IgKGNvbW1hbmQpIHtcbiAgICByZXR1cm4gIWlzT2JzZXJ2YXRpb25Db21tYW5kKGNvbW1hbmQpICYmICFpc0Jyb3dzZXJNYW5pcHVsYXRpb25Db21tYW5kKGNvbW1hbmQpICYmICFpc1NlcnZpY2VDb21tYW5kKGNvbW1hbmQpIHx8XG4gICAgICAgICAgIGlzUmVqZWN0YWJsZUJyb3dzZXJNYW5pcHVsYXRpb25Db21tYW5kKGNvbW1hbmQpXG4gICAgICAgICAgICYmICFpc1dpbmRvd1N3aXRjaGluZ0NvbW1hbmQoY29tbWFuZCk7XG59XG5cbmZ1bmN0aW9uIGlzQ2xpZW50RnVuY3Rpb25Db21tYW5kIChjb21tYW5kKSB7XG4gICAgcmV0dXJuIGNvbW1hbmQudHlwZSA9PT0gVFlQRS5leGVjdXRlQ2xpZW50RnVuY3Rpb24gfHxcbiAgICAgICAgICAgY29tbWFuZC50eXBlID09PSBUWVBFLmV4ZWN1dGVTZWxlY3Rvcjtcbn1cblxuZnVuY3Rpb24gaXNPYnNlcnZhdGlvbkNvbW1hbmQgKGNvbW1hbmQpIHtcbiAgICByZXR1cm4gaXNDbGllbnRGdW5jdGlvbkNvbW1hbmQoY29tbWFuZCkgfHxcbiAgICAgICAgICAgY29tbWFuZC50eXBlID09PSBUWVBFLndhaXQgfHxcbiAgICAgICAgICAgY29tbWFuZC50eXBlID09PSBUWVBFLmFzc2VydGlvbiB8fFxuICAgICAgICAgICBjb21tYW5kLnR5cGUgPT09IFRZUEUuZXhlY3V0ZUV4cHJlc3Npb247XG59XG5cbmZ1bmN0aW9uIGlzV2luZG93U3dpdGNoaW5nQ29tbWFuZCAoY29tbWFuZCkge1xuICAgIHJldHVybiBjb21tYW5kLnR5cGUgPT09IFRZUEUuc3dpdGNoVG9JZnJhbWUgfHwgY29tbWFuZC50eXBlID09PSBUWVBFLnN3aXRjaFRvTWFpbldpbmRvdztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhblNldERlYnVnZ2VyQnJlYWtwb2ludEJlZm9yZUNvbW1hbmQgKGNvbW1hbmQpIHtcbiAgICByZXR1cm4gY29tbWFuZC50eXBlICE9PSBUWVBFLmRlYnVnICYmICFpc0NsaWVudEZ1bmN0aW9uQ29tbWFuZChjb21tYW5kKSAmJiAhaXNTZXJ2aWNlQ29tbWFuZChjb21tYW5kKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2NyZWVuc2hvdENvbW1hbmQgKGNvbW1hbmQpIHtcbiAgICByZXR1cm4gY29tbWFuZC50eXBlID09PSBUWVBFLnRha2VTY3JlZW5zaG90IHx8XG4gICAgICAgICAgIGNvbW1hbmQudHlwZSA9PT0gVFlQRS50YWtlRWxlbWVudFNjcmVlbnNob3QgfHxcbiAgICAgICAgICAgY29tbWFuZC50eXBlID09PSBUWVBFLnRha2VTY3JlZW5zaG90T25GYWlsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyTWFuaXB1bGF0aW9uQ29tbWFuZCAoY29tbWFuZCkge1xuICAgIHJldHVybiBjb21tYW5kLnR5cGUgPT09IFRZUEUudGFrZVNjcmVlbnNob3QgfHxcbiAgICAgICAgICAgY29tbWFuZC50eXBlID09PSBUWVBFLnRha2VFbGVtZW50U2NyZWVuc2hvdCB8fFxuICAgICAgICAgICBjb21tYW5kLnR5cGUgPT09IFRZUEUudGFrZVNjcmVlbnNob3RPbkZhaWwgfHxcbiAgICAgICAgICAgY29tbWFuZC50eXBlID09PSBUWVBFLnJlc2l6ZVdpbmRvdyB8fFxuICAgICAgICAgICBjb21tYW5kLnR5cGUgPT09IFRZUEUucmVzaXplV2luZG93VG9GaXREZXZpY2UgfHxcbiAgICAgICAgICAgY29tbWFuZC50eXBlID09PSBUWVBFLm1heGltaXplV2luZG93O1xufVxuXG5mdW5jdGlvbiBpc1JlamVjdGFibGVCcm93c2VyTWFuaXB1bGF0aW9uQ29tbWFuZCAoY29tbWFuZCkge1xuICAgIHJldHVybiBjb21tYW5kLnR5cGUgPT09IFRZUEUucmVzaXplV2luZG93IHx8XG4gICAgICAgICAgICBjb21tYW5kLnR5cGUgPT09IFRZUEUucmVzaXplV2luZG93VG9GaXREZXZpY2UgfHxcbiAgICAgICAgICAgIGNvbW1hbmQudHlwZSA9PT0gVFlQRS5tYXhpbWl6ZVdpbmRvdztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2VydmljZUNvbW1hbmQgKGNvbW1hbmQpIHtcbiAgICByZXR1cm4gY29tbWFuZC50eXBlID09PSBUWVBFLnRlc3REb25lIHx8XG4gICAgICAgICAgIGNvbW1hbmQudHlwZSA9PT0gVFlQRS50YWtlU2NyZWVuc2hvdE9uRmFpbCB8fFxuICAgICAgICAgICBjb21tYW5kLnR5cGUgPT09IFRZUEUuc2hvd0Fzc2VydGlvblJldHJpZXNTdGF0dXMgfHxcbiAgICAgICAgICAgY29tbWFuZC50eXBlID09PSBUWVBFLmhpZGVBc3NlcnRpb25SZXRyaWVzU3RhdHVzIHx8XG4gICAgICAgICAgIGNvbW1hbmQudHlwZSA9PT0gVFlQRS5zZXRCcmVha3BvaW50IHx8XG4gICAgICAgICAgIGNvbW1hbmQudHlwZSA9PT0gVFlQRS50YWtlU2NyZWVuc2hvdE9uRmFpbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXhlY3V0YWJsZUluVG9wV2luZG93T25seSAoY29tbWFuZCkge1xuICAgIHJldHVybiBjb21tYW5kLnR5cGUgPT09IFRZUEUudGVzdERvbmUgfHxcbiAgICAgICAgICAgY29tbWFuZC50eXBlID09PSBUWVBFLnN3aXRjaFRvTWFpbldpbmRvdyB8fFxuICAgICAgICAgICBjb21tYW5kLnR5cGUgPT09IFRZUEUuc2V0TmF0aXZlRGlhbG9nSGFuZGxlciB8fFxuICAgICAgICAgICBjb21tYW5kLnR5cGUgPT09IFRZUEUuZ2V0TmF0aXZlRGlhbG9nSGlzdG9yeSB8fFxuICAgICAgICAgICBjb21tYW5kLnR5cGUgPT09IFRZUEUuc2V0VGVzdFNwZWVkIHx8XG4gICAgICAgICAgIGNvbW1hbmQudHlwZSA9PT0gVFlQRS5zaG93QXNzZXJ0aW9uUmV0cmllc1N0YXR1cyB8fFxuICAgICAgICAgICBjb21tYW5kLnR5cGUgPT09IFRZUEUuaGlkZUFzc2VydGlvblJldHJpZXNTdGF0dXMgfHxcbiAgICAgICAgICAgY29tbWFuZC50eXBlID09PSBUWVBFLnNldEJyZWFrcG9pbnQgfHxcbiAgICAgICAgICAgaXNCcm93c2VyTWFuaXB1bGF0aW9uQ29tbWFuZChjb21tYW5kKSAmJiBjb21tYW5kLnR5cGUgIT09IFRZUEUudGFrZUVsZW1lbnRTY3JlZW5zaG90O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNKU0V4cHJlc3Npb24gKHZhbCkge1xuICAgIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsLnR5cGUgPT09IFJBV19BUElfSlNfRVhQUkVTU0lPTl9UWVBFICYmXG4gICAgICAgICAgIHR5cGVvZiB2YWwudmFsdWUgPT09ICdzdHJpbmcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFeGVjdXRhYmxlT25DbGllbnRDb21tYW5kIChjb21tYW5kKSB7XG4gICAgcmV0dXJuIGNvbW1hbmQudHlwZSAhPT0gVFlQRS53YWl0ICYmXG4gICAgICAgICAgIGNvbW1hbmQudHlwZSAhPT0gVFlQRS5zZXRQYWdlTG9hZFRpbWVvdXQgJiZcbiAgICAgICAgICAgY29tbWFuZC50eXBlICE9PSBUWVBFLmRlYnVnICYmXG4gICAgICAgICAgIGNvbW1hbmQudHlwZSAhPT0gVFlQRS51c2VSb2xlICYmXG4gICAgICAgICAgIGNvbW1hbmQudHlwZSAhPT0gVFlQRS5hc3NlcnRpb24gJiZcbiAgICAgICAgICAgY29tbWFuZC50eXBlICE9PSBUWVBFLmV4ZWN1dGVFeHByZXNzaW9uO1xufVxuIl19
