'use strict';

exports.__esModule = true;

exports.default = function (developmentMode) {
    const scriptNameSuffix = developmentMode ? 'js' : 'min.js';

    return {
        favIcon: loadAsset('./client/ui/favicon.ico', true),
        coreScript: loadAsset(`./client/core/index.${scriptNameSuffix}`),
        driverScript: loadAsset(`./client/driver/index.${scriptNameSuffix}`),
        uiScript: loadAsset(`./client/ui/index.${scriptNameSuffix}`),
        uiStyle: loadAsset('./client/ui/styles.css'),
        uiSprite: loadAsset('./client/ui/sprite.png', true),
        automationScript: loadAsset(`./client/automation/index.${scriptNameSuffix}`),

        // NOTE: Load the legacy client script lazily to reduce startup time
        legacyRunnerScript: require('testcafe-legacy-api').CLIENT_RUNNER_SCRIPT
    };
};

var _readFileRelative = require('read-file-relative');

const ASSETS_CACHE = {};

function loadAsset(filename, asBuffer) {
    if (!ASSETS_CACHE[filename]) ASSETS_CACHE[filename] = (0, _readFileRelative.readSync)(filename, asBuffer);

    return ASSETS_CACHE[filename];
}

module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2FkLWFzc2V0cy5qcyJdLCJuYW1lcyI6WyJkZXZlbG9wbWVudE1vZGUiLCJzY3JpcHROYW1lU3VmZml4IiwiZmF2SWNvbiIsImxvYWRBc3NldCIsImNvcmVTY3JpcHQiLCJkcml2ZXJTY3JpcHQiLCJ1aVNjcmlwdCIsInVpU3R5bGUiLCJ1aVNwcml0ZSIsImF1dG9tYXRpb25TY3JpcHQiLCJsZWdhY3lSdW5uZXJTY3JpcHQiLCJyZXF1aXJlIiwiQ0xJRU5UX1JVTk5FUl9TQ1JJUFQiLCJBU1NFVFNfQ0FDSEUiLCJmaWxlbmFtZSIsImFzQnVmZmVyIl0sIm1hcHBpbmdzIjoiOzs7O2tCQVllLFVBQVVBLGVBQVYsRUFBMkI7QUFDdEMsVUFBTUMsbUJBQW1CRCxrQkFBa0IsSUFBbEIsR0FBeUIsUUFBbEQ7O0FBRUEsV0FBTztBQUNIRSxpQkFBa0JDLFVBQVUseUJBQVYsRUFBcUMsSUFBckMsQ0FEZjtBQUVIQyxvQkFBa0JELFVBQVcsdUJBQXNCRixnQkFBaUIsRUFBbEQsQ0FGZjtBQUdISSxzQkFBa0JGLFVBQVcseUJBQXdCRixnQkFBaUIsRUFBcEQsQ0FIZjtBQUlISyxrQkFBa0JILFVBQVcscUJBQW9CRixnQkFBaUIsRUFBaEQsQ0FKZjtBQUtITSxpQkFBa0JKLFVBQVUsd0JBQVYsQ0FMZjtBQU1ISyxrQkFBa0JMLFVBQVUsd0JBQVYsRUFBb0MsSUFBcEMsQ0FOZjtBQU9ITSwwQkFBa0JOLFVBQVcsNkJBQTRCRixnQkFBaUIsRUFBeEQsQ0FQZjs7QUFTSDtBQUNBUyw0QkFBb0JDLFFBQVEscUJBQVIsRUFBK0JDO0FBVmhELEtBQVA7QUFZSCxDOztBQTNCRDs7QUFHQSxNQUFNQyxlQUFlLEVBQXJCOztBQUVBLFNBQVNWLFNBQVQsQ0FBb0JXLFFBQXBCLEVBQThCQyxRQUE5QixFQUF3QztBQUNwQyxRQUFJLENBQUNGLGFBQWFDLFFBQWIsQ0FBTCxFQUNJRCxhQUFhQyxRQUFiLElBQXlCLGdDQUFLQSxRQUFMLEVBQWVDLFFBQWYsQ0FBekI7O0FBRUosV0FBT0YsYUFBYUMsUUFBYixDQUFQO0FBQ0giLCJmaWxlIjoibG9hZC1hc3NldHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZWFkU3luYyBhcyByZWFkIH0gZnJvbSAncmVhZC1maWxlLXJlbGF0aXZlJztcblxuXG5jb25zdCBBU1NFVFNfQ0FDSEUgPSB7fTtcblxuZnVuY3Rpb24gbG9hZEFzc2V0IChmaWxlbmFtZSwgYXNCdWZmZXIpIHtcbiAgICBpZiAoIUFTU0VUU19DQUNIRVtmaWxlbmFtZV0pXG4gICAgICAgIEFTU0VUU19DQUNIRVtmaWxlbmFtZV0gPSByZWFkKGZpbGVuYW1lLCBhc0J1ZmZlcik7XG5cbiAgICByZXR1cm4gQVNTRVRTX0NBQ0hFW2ZpbGVuYW1lXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGRldmVsb3BtZW50TW9kZSkge1xuICAgIGNvbnN0IHNjcmlwdE5hbWVTdWZmaXggPSBkZXZlbG9wbWVudE1vZGUgPyAnanMnIDogJ21pbi5qcyc7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBmYXZJY29uOiAgICAgICAgICBsb2FkQXNzZXQoJy4vY2xpZW50L3VpL2Zhdmljb24uaWNvJywgdHJ1ZSksXG4gICAgICAgIGNvcmVTY3JpcHQ6ICAgICAgIGxvYWRBc3NldChgLi9jbGllbnQvY29yZS9pbmRleC4ke3NjcmlwdE5hbWVTdWZmaXh9YCksXG4gICAgICAgIGRyaXZlclNjcmlwdDogICAgIGxvYWRBc3NldChgLi9jbGllbnQvZHJpdmVyL2luZGV4LiR7c2NyaXB0TmFtZVN1ZmZpeH1gKSxcbiAgICAgICAgdWlTY3JpcHQ6ICAgICAgICAgbG9hZEFzc2V0KGAuL2NsaWVudC91aS9pbmRleC4ke3NjcmlwdE5hbWVTdWZmaXh9YCksXG4gICAgICAgIHVpU3R5bGU6ICAgICAgICAgIGxvYWRBc3NldCgnLi9jbGllbnQvdWkvc3R5bGVzLmNzcycpLFxuICAgICAgICB1aVNwcml0ZTogICAgICAgICBsb2FkQXNzZXQoJy4vY2xpZW50L3VpL3Nwcml0ZS5wbmcnLCB0cnVlKSxcbiAgICAgICAgYXV0b21hdGlvblNjcmlwdDogbG9hZEFzc2V0KGAuL2NsaWVudC9hdXRvbWF0aW9uL2luZGV4LiR7c2NyaXB0TmFtZVN1ZmZpeH1gKSxcblxuICAgICAgICAvLyBOT1RFOiBMb2FkIHRoZSBsZWdhY3kgY2xpZW50IHNjcmlwdCBsYXppbHkgdG8gcmVkdWNlIHN0YXJ0dXAgdGltZVxuICAgICAgICBsZWdhY3lSdW5uZXJTY3JpcHQ6IHJlcXVpcmUoJ3Rlc3RjYWZlLWxlZ2FjeS1hcGknKS5DTElFTlRfUlVOTkVSX1NDUklQVFxuICAgIH07XG59XG4iXX0=
